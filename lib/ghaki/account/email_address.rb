############################################################################
require 'ghaki/account/syn_opts'

############################################################################
module Ghaki
  module Account
    module EMailAddress

      ######################################################################
      extend SynOpts
      attr_syn_opts :email_address, :email

      ######################################################################
      # OBJECT METHODS
      ######################################################################
      attr_writer :email_address

      #---------------------------------------------------------------------
      def email_address
        @email_address ||= self.make_email_address
      end

      ######################################################################
      protected
      ######################################################################

      #---------------------------------------------------------------------
      def make_email_address
        if @hostname.nil?
          @username
        else
          @username + '@' + @hostname
        end
      end

    end # class
  end # namespace
end # package
############################################################################
